(()=>{var n=class{constructor(){this.signal={};this.data={};this.timeline=[]}on(i,t){typeof t=="function"&&(this.signal[i]||(this.signal[i]=[]),this.signal[i].push(t))}emit(i,t){(this.signal[i]||[]).forEach(e=>{e.call(null,t)})}update(i,t){let s=this.timeline.length+1;this.timeline.push({eventData:t,eventName:i,eventOrder:s,timestamp:new Date().getTime()}),Object.keys(t).forEach(e=>{let o=t[e];this.isDefined(o)&&(this.data[e]=o)}),this.emit("update",t),this.emit(i,t)}snapshot(){return this.data}clear(){this.data={},this.timeline=[]}isDefined(i){return!(typeof i=="undefined"||i==="undefined"||i===null||i==="")}};window&&(window.yoki=new n);})();
